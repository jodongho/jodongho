if(window.oy===undefined){window.oy={}}if(oy.log===undefined){oy.log={}}oy.log={logUrl:{local:"https://dev-lc.oliveyoung.co.kr/pv",dev:"https://dev-lc.oliveyoung.co.kr/pv",real:"https://lc.oliveyoung.co.kr/pv"},expandLogUrl:{local:"https://dev-lc.oliveyoung.co.kr/plog",dev:"https://dev-lc.oliveyoung.co.kr/plog",real:"https://lc.oliveyoung.co.kr/plog"},page:{ref:encodeURIComponent(document.referrer),rts:0,sk:null},user:{i:null,a:null,g:null,pcid:null,e:null,fp:null},product:{pn:null,pc:null,n:null,c1:null,c2:null,c3:null,bi:null,bn:null,p:null,dc:null},order:{no:null,count:0,totalPrice:0},channelInfo:{channelNo:null,channelDetailNo:null},MD5:function(s){function L(b,a){return(b<<a)|(b>>>(32-a))}function K(k,b){var F,a,d,x,c;d=(k&2147483648);x=(b&2147483648);F=(k&1073741824);a=(b&1073741824);c=(k&1073741823)+(b&1073741823);if(F&a){return(c^2147483648^d^x)}if(F|a){if(c&1073741824){return(c^3221225472^d^x)}return(c^1073741824^d^x)}return(c^d^x)}function r(a,c,b){return(a&c)|((~a)&b)}function q(a,c,b){return(a&b)|(c&(~b))}function p(a,c,b){return(a^c^b)}function n(a,c,b){return(c^(a|(~b)))}function u(G,F,aa,Z,k,H,I){G=K(G,K(K(r(F,aa,Z),k),I));return K(L(G,H),F)}function f(G,F,aa,Z,k,H,I){G=K(G,K(K(q(F,aa,Z),k),I));return K(L(G,H),F)}function D(G,F,aa,Z,k,H,I){G=K(G,K(K(p(F,aa,Z),k),I));return K(L(G,H),F)}function t(G,F,aa,Z,k,H,I){G=K(G,K(K(n(F,aa,Z),k),I));return K(L(G,H),F)}function e(k){var G;var d=k.length;var c=d+8;var b=(c-(c%64))/64;var F=(b+1)*16;var H=Array(F-1);var a=0;var x=0;while(x<d){G=(x-(x%4))/4;a=(x%4)*8;H[G]=(H[G]|(k.charCodeAt(x)<<a));x++}G=(x-(x%4))/4;a=(x%4)*8;H[G]=H[G]|(128<<a);H[F-2]=d<<3;H[F-1]=d>>>29;return H}function B(c){var b="",d="",k,a;for(a=0;a<=3;a++){k=(c>>>(a*8))&255;d="0"+k.toString(16);b=b+d.substr(d.length-2,2)}return b}function J(b){b=b.replace(/\r\n/g,"\n");var a="";for(var k=0;k<b.length;k++){var d=b.charCodeAt(k);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a}var C=Array();var P,h,E,v,g,Y,X,W,V;var S=7,Q=12,N=17,M=22;var A=5,z=9,y=14,w=20;var o=4,m=11,l=16,j=23;var U=6,T=10,R=15,O=21;s=J(s);C=e(s);Y=1732584193;X=4023233417;W=2562383102;V=271733878;for(P=0;P<C.length;P+=16){h=Y;E=X;v=W;g=V;Y=u(Y,X,W,V,C[P+0],S,3614090360);V=u(V,Y,X,W,C[P+1],Q,3905402710);W=u(W,V,Y,X,C[P+2],N,606105819);X=u(X,W,V,Y,C[P+3],M,3250441966);Y=u(Y,X,W,V,C[P+4],S,4118548399);V=u(V,Y,X,W,C[P+5],Q,1200080426);W=u(W,V,Y,X,C[P+6],N,2821735955);X=u(X,W,V,Y,C[P+7],M,4249261313);Y=u(Y,X,W,V,C[P+8],S,1770035416);V=u(V,Y,X,W,C[P+9],Q,2336552879);W=u(W,V,Y,X,C[P+10],N,4294925233);X=u(X,W,V,Y,C[P+11],M,2304563134);Y=u(Y,X,W,V,C[P+12],S,1804603682);V=u(V,Y,X,W,C[P+13],Q,4254626195);W=u(W,V,Y,X,C[P+14],N,2792965006);X=u(X,W,V,Y,C[P+15],M,1236535329);Y=f(Y,X,W,V,C[P+1],A,4129170786);V=f(V,Y,X,W,C[P+6],z,3225465664);W=f(W,V,Y,X,C[P+11],y,643717713);X=f(X,W,V,Y,C[P+0],w,3921069994);Y=f(Y,X,W,V,C[P+5],A,3593408605);V=f(V,Y,X,W,C[P+10],z,38016083);W=f(W,V,Y,X,C[P+15],y,3634488961);X=f(X,W,V,Y,C[P+4],w,3889429448);Y=f(Y,X,W,V,C[P+9],A,568446438);V=f(V,Y,X,W,C[P+14],z,3275163606);W=f(W,V,Y,X,C[P+3],y,4107603335);X=f(X,W,V,Y,C[P+8],w,1163531501);Y=f(Y,X,W,V,C[P+13],A,2850285829);V=f(V,Y,X,W,C[P+2],z,4243563512);W=f(W,V,Y,X,C[P+7],y,1735328473);X=f(X,W,V,Y,C[P+12],w,2368359562);Y=D(Y,X,W,V,C[P+5],o,4294588738);V=D(V,Y,X,W,C[P+8],m,2272392833);W=D(W,V,Y,X,C[P+11],l,1839030562);X=D(X,W,V,Y,C[P+14],j,4259657740);Y=D(Y,X,W,V,C[P+1],o,2763975236);V=D(V,Y,X,W,C[P+4],m,1272893353);W=D(W,V,Y,X,C[P+7],l,4139469664);X=D(X,W,V,Y,C[P+10],j,3200236656);Y=D(Y,X,W,V,C[P+13],o,681279174);V=D(V,Y,X,W,C[P+0],m,3936430074);W=D(W,V,Y,X,C[P+3],l,3572445317);X=D(X,W,V,Y,C[P+6],j,76029189);Y=D(Y,X,W,V,C[P+9],o,3654602809);V=D(V,Y,X,W,C[P+12],m,3873151461);W=D(W,V,Y,X,C[P+15],l,530742520);X=D(X,W,V,Y,C[P+2],j,3299628645);Y=t(Y,X,W,V,C[P+0],U,4096336452);V=t(V,Y,X,W,C[P+7],T,1126891415);W=t(W,V,Y,X,C[P+14],R,2878612391);X=t(X,W,V,Y,C[P+5],O,4237533241);Y=t(Y,X,W,V,C[P+12],U,1700485571);V=t(V,Y,X,W,C[P+3],T,2399980690);W=t(W,V,Y,X,C[P+10],R,4293915773);X=t(X,W,V,Y,C[P+1],O,2240044497);Y=t(Y,X,W,V,C[P+8],U,1873313359);V=t(V,Y,X,W,C[P+15],T,4264355552);W=t(W,V,Y,X,C[P+6],R,2734768916);X=t(X,W,V,Y,C[P+13],O,1309151649);Y=t(Y,X,W,V,C[P+4],U,4149444226);V=t(V,Y,X,W,C[P+11],T,3174756917);W=t(W,V,Y,X,C[P+2],R,718787259);X=t(X,W,V,Y,C[P+9],O,3951481745);Y=K(Y,h);X=K(X,E);W=K(W,v);V=K(V,g)}var i=B(Y)+B(X)+B(W)+B(V);return i.toLowerCase()},makeFingerPrintData:function(){var b=document.createElement("canvas");var a=b.getContext("2d");a.textBaseline="top";a.font='14px "Arial"';a.textBaseline="alphabetic";a.fillStyle="#f60";a.fillRect(125,1,62,20);a.fillStyle="#069";a.fillText("oliveyoung.co.kr",2,15);a.fillStyle="rgba(102, 204, 0, 0.7)";a.fillText("oliveyoung.co.kr",4,17);return b.toDataURL().replace("data:image/png;base64,","")},getCookie:function(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return b?b[2]:null},setCookie:function(b,c,a){document.cookie=b+"="+c+"; max-age="+a},setOrderInfo:function(c,b,a){this.order={no:c,count:b,totalPrice:a}},getPCID:function(){return this.getCookie("PCID")},setUserInfo:function(d,a,b,c){this.user.i=d;this.user.a=a;this.user.g=b;this.user.e=c},setKeyword:function(a){a=decodeURIComponent(a);if(a==undefined||a=="undefined"){this.page.sk=null}else{var b=[];a.split("").forEach(function(d,c){if(d!=" "&&b.length<15){b.push(d)}});this.page.sk=encodeURIComponent(b.join(""))}},isNotEmpty:function(a){return a&&a!=""&&a!="undefined"&&typeof a!="undefined"},setInflowChannelInfo:function(){var b=window.location.search;if(!b){return}var d=this.parseSearch(b);var c=d.chlNo?d.chlNo:null;var a=d.chlDtlNo?d.chlDtlNo:null;if(!this.isNotEmpty(c)){c=this.getCookie("log_channelNo");a=this.getCookie("log_channelDetailNo")}if(this.isNotEmpty(c)){this.setCookie("log_channelNo",c,1800);this.setCookie("log_channelDetailNo",a,1800)}this.channelInfo.channelNo=c;this.channelInfo.channelDetailNo=a},init:function(){try{var i=this.makeFingerPrintData();this.user.fp=this.MD5(i)}catch(b){console.error(b)}try{this.user.pcid=this.getPCID()}catch(k){console.error(k)}try{this.setPageTimeStamp()}catch(j){console.error(j)}try{var d=this.getRefPageHash();var a=this.getCookie(d);this.page.rts=a?Number(a):0}catch(c){console.error(c)}try{this.setInflowChannelInfo()}catch(h){console.error(h)}try{var l=this.getUrlParameters();if(l&&l.query){this.setKeyword(l.query)}else{this.setKeyword(this.getReferrerQuery())}var n=this.getProductInfoFromMetaTag();if(n.itemId){try{this.product.pn=n.itemId;this.product.pc=n.itemUrl.replace("goodsNo=","");this.product.n=encodeURIComponent(n.itemName);this.product.c1=n.category1;this.product.c2=n.category2;this.product.c3=n.category3;this.product.bi=n.brandId;this.product.bn=encodeURIComponent(n.brandName);try{this.product.p=n.originalPrice?n.originalPrice:n.salePrice}catch(g){}try{this.product.dc=n.salePrice?n.salePrice:n.originalPrice}catch(g){}}catch(m){console.error(m)}}}catch(f){console.error(f)}},getRefPageHash:function(){var a=this.getOyReferrerPath();return this.MD5(a)},setPageTimeStamp:function(){var c=window.location.pathname+window.location.search;var a=this.MD5(c);var b=(+new Date());this.setCookie(a,b,1800)},getDeviceInfos:function(){var a=window.navigator.userAgent;return{browser:{isChrome:a.indexOf("Chrome"),isChromeMobile:a.indexOf("CriOS"),isSamsungBrowser:a.indexOf("SamsungBrowser"),isWindows:a.indexOf("Windows NT"),isEdge:a.indexOf("Edge"),isIE:a.indexOf("Trident")},isMobile:a.indexOf("iPad")>-1||a.indexOf("iPhone")>-1||a.indexOf("Android")>-1}},getParameterMap:function(b){try{var c=b.split("&");var a={};c.forEach(function(g,e){var f=g.split("=");a[f[0]]=f[1]});return a}catch(d){}return null},getUrlParameters:function(){var a=document.location.search;if(!a||a.length===0){return null}a=a.replace("?","");return this.getParameterMap(a)},getReferrerQuery:function(){try{var c=document.referrer;var b=c.substring(c.indexOf("?")+1);var a=this.getParameterMap(b);return a.query}catch(d){}return null},getProductInfoFromMetaTag:function(){var a={};var f=document.getElementsByTagName("meta");for(var b=0;b<f.length;b++){var d=f[b];if(d.attributes.property){var c=d.attributes.property.value.replace("rb:","");var e=d.attributes.content.value;a[c]=e}}return a},setProductInfo:function(h,d,b,i,g,f,c,j,e,a){this.product={pn:h,pc:d,n:encodeURIComponent(b),c1:i,c2:g,c3:f,bi:c,bn:encodeURIComponent(j),p:e,dc:a}},makeParameters:function(){var b=[];var d=this.getDeviceInfos();b.push("dt="+(d.isMobile?"mobile":"pc"));for(var a in this.page){var c=this.page[a]==null||this.page[a]=="undefined"?"":this.page[a];b.push(a+"="+c)}for(var a in this.user){var c=(this.user[a]==null||this.user[a]==0)?"":this.user[a];b.push(a+"="+c)}for(var a in this.product){var c=this.product[a]==null||this.product[a]=="undefined"?"":this.product[a];b.push(a+"="+c)}return b.join("&")},requestIFrame:function(a){var b=document.createElement("iframe");b.style.display="none";b.src=a;document.body.appendChild(b);setTimeout(function(){document.body.removeChild(b)},1000)},getServerUrl:function(){var a=window.location.href;if(a.indexOf("localhost")>-1){return this.logUrl.local}else{if((a.indexOf("dev")+a.indexOf("qa"))>-1){return this.logUrl.dev}}return this.logUrl.real},parseSearch:function(c){if(c){var a={};c=c.replace("?","");var b=c.split("&");b.forEach(function(f,e){var d=f.split("=");a[d[0]]=encodeURIComponent(d[1])});return a}return null},parseReferrer:function(){var a={path:null,parameters:null};var c=document.referrer;if(c){var b=c.split("?");a.path=b[0];if(b.length>1){a.parameters=this.parseSearch(b[1])}}return a},getOyReferrerPath:function(){var b=document.referrer;var a=b.indexOf("oliveyoung.co.kr")+16;return b.substring(a)},getDisplaySize:function(){if(!window||!document){return null}var e=document.documentElement;var d=document.getElementsByTagName("body")[0];var a=window.innerWidth||e.clientWidth||d.clientWidth;var f=window.innerHeight||e.clientWidth||d.clientHeight;var b=e.scrollWidth;var c=e.scrollHeight;return{clientWidth:Number(a),clientHeight:Number(f),scrollWidth:Number(b),scrollHeight:Number(c)}},getBrowserName:function(a){return a.indexOf("Chrome")>-1?"Chrome":a.indexOf("CriOS")>-1?"ChromeMobile":a.indexOf("SamsungBrowser")>-1?"SamsungBrowser":a.indexOf("Windows NT")>-1?"Windows":a.indexOf("Edge")>-1?"Edge":a.indexOf("Trident")>-1?"IE":"etc"},getDeviceDetailInfo:function(){var a={type:this.getDeviceInfos().isMobile?"MOBILE":"PC",os:null,browser:null,display:null};var b=window.navigator.userAgent;if(b){a.os=b.indexOf("Android")>-1?"Android":(b.indexOf("iPad")>-1?"iPad":(b.indexOf("iPhone")>-1?"iPhone":(b.indexOf("Windows")>-1?"Windows":"etc")));a.browser=this.getBrowserName(b);a.display=this.getDisplaySize()}return a},makeJson:function(){var a={timestamp:(+new Date()),user:{},product:{},inflow:{},device:{},order:this.order};try{a.user={id:this.user.i,age:this.user.a,gender:this.user.g,employeeYn:this.user.e,uniqueId:this.user.fp};if(this.product.pc&&this.product.pc.length>0){a.product={code:this.product.pc,category:this.product.c3,name:this.product.n,price:this.product.dc,brand:this.product.bn}}var c=window.location.search;var b=this.parseSearch(c);a.inflow={referrer:this.parseReferrer(),referrerTimestamp:this.page.rts,currentUrl:{path:encodeURIComponent(window.location.origin+window.location.pathname),parameters:b},keyword:this.page.sk?this.page.sk:null,channelNo:this.channelInfo.channelNo,channelDetailNo:this.channelInfo.channelDetailNo};a.device=this.getDeviceDetailInfo()}catch(d){console.error(d)}return a},getExpandLogUrl:function(){var a=window.location.href;if(a.indexOf("localhost")>-1){return this.expandLogUrl.local}else{if((a.indexOf("dev")+a.indexOf("qa"))>-1){return this.expandLogUrl.dev}}return this.expandLogUrl.real},getExpandLogParameters:function(){try{var a=this.makeJson();return"datas="+JSON.stringify(a)}catch(b){console.error(b)}return null},expose:function(){const c=window.location.pathname;if(c.indexOf("getGoodsDetail")>-1){var b=this.makeParameters();var a=this.getServerUrl()+"?"+b;this.requestIFrame(a)}var d=this.getExpandLogUrl()+"?"+this.getExpandLogParameters();this.requestIFrame(d)},click:function(){}};oy.log.init();